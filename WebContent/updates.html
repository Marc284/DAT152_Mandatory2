<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Mservices, getUpdates</title>

</head>
<body>
<h1>get /updates/{logId}</h1>

<p><strong>Observe:</strong> In your application <var>logId</var> should be equal to <q>-1</q>.
You will need this service only to initialize the view.</p>

<form>
<p>Value of logId: 
<input type="text" size="3" value="-1" id="logId"/></p>
<p><button type="button" id="getUpdates">Send logId</button></p>
</form>

<p>Result:</p>
<div id="answer"></div>

<p class="valid">
[<a href="http://validator.w3.org/check/referer">HTML</a>][<a href="http://jigsaw.w3.org/css-validator/check/referer">CSS</a>]
</p>

<script src="script/config.js"></script>
<script src="script/ajax/ajax.js"></script>
<script>
"use strict";

{
    let logIdElm = null
  
    function load() {
            document.getElementById("getUpdates").addEventListener("click",getUpdates,true)
            logIdElm = document.getElementById("logId")
    }
  
    function viewMessage(m) {
        document.getElementById("answer").textContent=m
    }

    function getUpdates(e) {
        let url = config.servicesPath + "/updates"
        const ajax = new AJAXConnection(url)
        ajax.onsuccess = viewMessage
        ajax.get([logIdElm.value])
    }
    
    window.addEventListener("DOMContentLoaded",load,true)
}
</script>
</body>
</html>